= form_for @available_report do |f|
  - if @available_report.errors.any?
    #error_explanation
      %h2= "#{pluralize(@available_report.errors.count, "error")} prohibited this setup from being saved:"
      %ul
        - @available_report.errors.full_messages.each do |msg|
          %li= msg
  .field
    = f.label :name
    %br/
    = f.text_field :name
  .field
    = f.label :dsn
    %br/
    = f.text_field :dsn
  .field
    = f.label :db_unit
    %br/
    = f.text_field :db_unit
  .field
    = f.label :batch_size
    %br/
    = f.text_field :batch_size
  .field
    = f.label :mime_type
    %br/
    = f.text_field :mime_type
  .field
    = f.label :file_ext
    %br/
    = f.text_field :file_ext
  .fieldset
    %table.table.datatable
      %thead
        %tr
          %th Param
          %th Name
          %th Type
      %tbody
        - (1..5).each do |i|
          %tr
            %td
              = i
            %td
              = f.text_field "param#{i}_name"
            %td
              = f.select "param#{i}_type", Rp::AvailableReport.param_types.map { |key, value| [key.humanize, key] }
  .actions
    = f.submit 'Save'
    = link_to 'Back', available_reports_path
    